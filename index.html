<!DOCTYPE html>
<html lang="ja">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="stylesheet.css">
</head>
<body>
    <div class="cursor"></div>
    <div class="container">
        <header class="header">
            <img class="header_logo" src="c-head logo.svg" alt="logo">
            <ul class="header_nav">
                <li><a class="menu" id="menu_vision" href="vision">Vision</a></li>
                <li><a class="menu" id="menu_service" href="service">Service<sup>3</sup></a></li>
                <li><a class="menu" id="menu_company" href="company">Company</a></li>
                <li><a class="menu" id="menu_event" href="event">Event</a></li>
                <li><a class="menu" id="menu_recruit" href="recruit">Recruit</a></li>
                <li><a class="menu" id="menu_contact" href="contact">Contact</a></li>
            </ul>
        </header>
        <div class="main_title">
            <h5>We're Second Inc.</h4>
            <h1>I want to be<br>Number one</h1>
            <h5 style="font-family: '游ゴシック体', yuGothic, sans-serif;">常にあなたのために実行します。あなたのやりたいことを叶える会社です。</h4>
        </div>
        <div class="main_visual"><img class="fuwari_animation" src="b-kv_image@2x.jpg" alt="メイン画像"></div>
        <div class="main_pager">
            <p>1</p>
            <p>---</p>
            <p>4</p>
        </div>
        <div class="main_contents">
            <p>contents</p>
            <p>Vision</p>
        </div>
        <div class="news_title"><p>Latest News</p></div>
        <div class="news_posts">
            <p>May15,2020-弊社の取り組みが紹介されました。</p>
            <p>May15,2020-弊社の取り組みが紹介されました。</p>
        </div>
        <a class="news_scroll" href="#">Scroll</a>
        <img class="main_background" src="b-kv_bg_image@2x.jpg" alt="背景画像">
        <img class="vision_visual fuwari_animation" src="b-top_vision_image@2x.jpg" alt="写真">
        <div class="vision_contents">
            <h2>あなたのやりたいを叶える会社です。<br>会社理念・ビジョンの文章から抜粋します。</h2>
            <h4>あなたのやりたいを叶える会社です。会社理念・ビジョンの文章から抜粋します。
                あなたのやりたいを叶える会社です。会社理念・ビジョンの文章から抜粋します。
                あなたのやりたいを叶える会社です。会社理念・ビジョンの文章から抜粋します。
                あなたのやりたいを叶える会社です。会社理念・ビジョンの文章から抜粋します。
            </h4>
            <h4 class="vision_learnmore"><u>Learn more</u> +</h4>
        </div>
        <div class="vision_side">
            <h4 class="vision_sidecontent">Vision</h4>
        </div>
    </div>
    <div class="container_white">
        <div class="activities_side">
            <h4 class="activities_sidecontent">Recent Activities</h4>
        </div>
        <div class="activities_contents">
            <div class="activities_frame">
                <a href="#"><img src="b-top_activities_image_01@2x.jpg" alt=""></a>
                <p class="activities_date">May15,2020</p>
                <p class="activities_content">活動記録の文章が入ります。活動記録の文章が入ります。活動記録の文章が入ります。</p>
            </div>
            <div class="activities_frame">
                <a href="#"><img src="b-top_activities_image_02@2x.jpg" alt=""></a>
                <p class="activities_date">May15,2020</p>
                <p class="activities_content">活動記録の文章が入ります。活動記録の文章が入ります。活動記録の文章が入ります。</p>
            </div>
            <div class="activities_frame">
                <a href="#"><img src="b-top_activities_image_03@2x.jpg" alt=""></a>
                <p class="activities_date">May15,2020</p>
                <p class="activities_content">活動記録の文章が入ります。活動記録の文章が入ります。活動記録の文章が入ります。</p>
            </div>
            <div class="activities_frame">
                <a href="#"><img src="b-top_activities_image_01@2x.jpg" alt=""></a>
                <p class="activities_date">May15,2020</p>
                <p class="activities_content">活動記録の文章が入ります。活動記録の文章が入ります。活動記録の文章が入ります。</p>
            </div>
        </div>
    </div>

    <script>
        //マウスカーソルの描画
        let mouseCursor = document.querySelector(".cursor");
        let navLinks = document.querySelectorAll('.header_nav li');
        let imageLinks = document.querySelectorAll('.activities_frame a');
        window.addEventListener('mousemove',cursor);
        function cursor(e){
            mouseCursor.style.top = e.pageY + 'px';
            mouseCursor.style.left = e.pageX + 'px';
        }
        //マウスカーソルの変更動作
        navLinks.forEach(link =>{    //linkはquerySelectorで取得したcursorクラスの要素が入る
            //マウスカーソルがlinkに乗ったときの動作
            link.addEventListener('mouseover',()=>{
                mouseCursor.classList.add('link-grow');
                link.classList.add('hovered-link');
            });
            //リンクを離れたときの動作
            link.addEventListener('mouseleave',()=>{
                mouseCursor.classList.remove('link-grow');
                link.classList.remove('hovered-link');
            });
        });

        //Learn moreの表示
        imageLinks.forEach(link =>{
            //マウスカーソルがlinkに乗ったときの動作
            link.addEventListener('mouseover',()=>{
                mouseCursor.classList.add('link-more');
                mouseCursor.innerText = "Learn More";
                link.classList.add('hovered-link');
            });
            //リンクを離れたときの動作
            link.addEventListener('mouseleave',()=>{
                mouseCursor.classList.remove('link-more');
                mouseCursor.innerText = "";
                link.classList.remove('hovered-link');
            });
        });

    </script>
    <script>
        //fuwari_animationクラスが付いている要素は、ふわっと表示させる
        function showElementAnimation() {
            let fuwari_image = document.getElementsByClassName('fuwari_animation');
            if(!fuwari_image) return;    //要素がなかったら処理をキャンセル
            let showTiming = window.innerHeight > 768 ? 200 : 40;    //200px過ぎたところで表示させる(768px以下の場合は40px)
            let scrollY = window.pageYOffset;    //垂直方向のスクロール量を取得
            let windowH = window.innerHeight;    //ブラウザの表示領域(垂直方向)

            for(let i=0;i<fuwari_image.length;i++) {    //fuwari_animationクラスがついてる要素すべて実行
                let elemClientRect = fuwari_image[i].getBoundingClientRect();    //ブラウザの左上を基準点として要素の座標を取得
                let elemY = scrollY + elemClientRect.top;    //top位置の座標のみ取得
                if(scrollY + windowH - elemY > showTiming) {    //スクロール量+表示領域-要素の位置 > どれだけの高さが表示領域に入ったら表示させるか
                    fuwari_image[i].classList.add('is-show');    //is-showクラスを追加
                } else if(scrollY + windowH < elemY) {
                    fuwari_image[i].classList.remove('is-show');    //領域外に来たら再度非表示にする
                }
            }
        }
        showElementAnimation();    //最初から表示領域にある画像を表示させるため条件なし起動
        window.addEventListener('scroll', showElementAnimation);    //スクロールをトリガにして関数を動作させる
    </script>
    <script>
        //container_whiteまで来たらバナーを変える
        function changeHeader(){
            let container_white = document.getElementsByClassName('container_white');
            let menu = document.getElementsByClassName('menu');
            let header_logo = document.getElementsByClassName('header_logo');
            let elementY = window.pageYOffset + container_white[0].getBoundingClientRect().top;
            if(window.pageYOffset > elementY) {
                header_logo[0].src="c-head logo_tuizyu.svg";
                for(let i=0;i<menu.length;i++){
                    menu[i].classList.add('text_blue');
                    menu[i].classList.remove('text_white');
                }
            }else if(window.pageYOffset < elementY) {
                header_logo[0].src="c-head logo.svg";
                for(let i=0;i<menu.length;i++){
                    menu[i].classList.add('text_white');
                    menu[i].classList.remove('text_blue');
                }
            }
        }
        changeHeader();
        window.addEventListener('scroll', changeHeader);
    </script>
</body>
</html>